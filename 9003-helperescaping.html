<!DOCTYPE html>                                                                                                       
<html lang="en">
<head>
 <meta charset="utf-8">
 <meta http-equiv="X-UA-Compatible" content="IE=edge">
 <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
 <title>Handlebars Cookbook - LightnCandy: Use SafeString</title>
 <script async src="https://www.googletagmanager.com/gtag/js?id=UA-400506-4"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-400506-4');
</script>
 <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
 <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/0.0.1/prism.min.css" rel="stylesheet">
 <link href="style.css" rel="stylesheet">
<style>
.btn-secondary{border-color:#abc}
</style>
 <link href="data:image/x-icon;base64,AAABAAEAEBAQAAEABAAoAQAAFgAAACgAAAAQAAAAIAAAAAEABAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAA/4QAAPzlzAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARAAARAAAAARAAAAEQAAARAAAAABEAARAiIiIiARABECACIAIBEAEQIAIgAgEQARAgAiACARARECAAAAIBEREQIAAAAgERARAgAiACARABECACIAIBEAEQIAIgAgEQARAiIiIiARAAEQAAAAARAAABEAAAARAAAAARAAARAADzzwAA5+cAAM/zAACQCQAAkAkAAJAJAACQCQAAEAgAABAIAACQCQAAkAkAAJAJAACQCQAAz/MAAOfnAADzzwAA" rel="icon" type="image/x-icon" />
 <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
 <![endif]-->
</head>
<body>
<nav class="navbar navbar-inverse navbar-fixed-top">
 <div class="container">
  <div class="navbar-header">
   <a class="navbar-brand" href="./"><span class="glyphicon glyphicon-edit" aria-hidden="true"></span> Handlebars Cookbook</a>
  </div>
  <ul class="nav navbar-nav">
   <li class="dropdown">
    <a class="dropdown-toggle" data-toggle="dropdown" href="#"><span class="glyphicon glyphicon-book" aria-hidden="true"></span> Index <span class="caret"></span>
    </a>
    <ol class="dropdown-menu">
<li><a href="index.html">1. About this book</a></li>
<li><a href="0002-install.html">2. Create your project</a></li>
<li><a href="0003-hello.html">3. Hello World</a></li>
<li><a href="0004-simple-variable.html">4. Simple Variable</a></li>
<li><a href="0005-variable-escape.html">5. Variable Escaping</a></li>
<li><a href="0006-raw.html">6. Raw Output</a></li>
<li><a href="0007-specific-values.html">7. Specific Values</a></li>
<li><a href="0008-block.html">8. Block</a></li>
<li><a href="0009-inverted-block.html">9. Inverted Block</a></li>
<li><a href="0010-comment.html">10. Comment</a></li>
<li><a href="0011-partial.html">11. Partials</a></li>
<li><a href="0012-delimiter.html">12. Set Delimiter</a></li>
<li><a href="0013-dotnotation.html">13. Dot Notation</a></li>
<li><a href="0014-path.html">14. Handlebars: Path</a></li>
<li><a href="0015-hbcomment.html">15. Handlebars: Extended Comment</a></li>
<li><a href="0016-if.html">16. Handlebars: Built-in block helper - #if</a></li>
<li><a href="0017-unless.html">17. Handlebars: Built-in block helper - #unless</a></li>
<li><a href="0018-with.html">18. Handlebars: Built-in block helper - #with</a></li>
<li><a href="0019-each.html">19. Handlebars: Built-in block helper - #each</a></li>
<li><a href="0020-lookup.html">20. Handlebars: Built-in helper - lookup</a></li>
<li><a href="0021-customhelper.html">21. Handlebars: Custom Helper</a></li>
<li><a href="0022-blockhelper.html">22. Handlebars: Block Custom Helper</a></li>
<li><a href="0023-namedarguments.html">23. Handlebars: Named Arguments</a></li>
<li><a href="0024-partialcontext.html">24. Handlebars: Change Partial Context</a></li>
<li><a href="0025-parentcontext.html">25. Handlebars: Parent Context</a></li>
<li><a href="0026-subexpression.html">26. Handlebars: Subexpression</a></li>
<li><a href="0027-advancedvariable.html">27. Handlebars: Advanced Variable</a></li>
<li><a href="0028-dynamicpartial.html">28. Handlebars: Dynamic Partial</a></li>
<li><a href="0029-safestring.html">29. Handlebars: Use SafeString</a></li>
<li><a href="0030-changecontext.html">30. Handlebars: Change Context</a></li>
<li><a href="0031-whitespace-control.html">31. Handlebars: Whitespace Control</a></li>
<li><a href="0032-partial-block.html">32. Handlebars: Partial Block</a></li>
<li><a href="9000-quickstart.html">33. LightnCandy: Quick Start</a></li>
<li><a href="9001-customhelper.html">34. LightnCandy: Custom Helper</a></li>
<li><a href="9002-helperoptions.html">35. LightnCandy: The $options Object</a></li>
<li><a href="9003-helperescaping.html">36. LightnCandy: Use SafeString</a></li>
<li><a href="9004-partials.html">37. LightnCandy: Deep Dive Partials</a></li>
<li><a href="9900-lc-options.html">38. LightnCandy options</a></li>
<li><a href="9901-lcop-helperresolver.html">39. LightnCandy option: helperresolver</a></li>
<li><a href="9902-lcop-partialresolver.html">40. LightnCandy option: partialresolver</a></li>
<li><a href="9903-lcop-safestring.html">41. LightnCandy option: safestring</a></li>
<li><a href="LC-FLAG_ADVARNAME.html">42. LightnCandy option: FLAG_ADVARNAME</a></li>
<li><a href="LC-FLAG_BESTPERFORMANCE.html">43. LightnCandy option: FLAG_BESTPERFORMANCE</a></li>
<li><a href="LC-FLAG_ECHO.html">44. LightnCandy option: FLAG_ECHO</a></li>
<li><a href="LC-FLAG_ELSE.html">45. LightnCandy option: FLAG_ELSE</a></li>
<li><a href="LC-FLAG_ERROR_EXCEPTION.html">46. LightnCandy option: FLAG_ERROR_EXCEPTION</a></li>
<li><a href="LC-FLAG_ERROR_LOG.html">47. LightnCandy option: FLAG_ERROR_LOG</a></li>
<li><a href="LC-FLAG_ERROR_SKIPPARTIAL.html">48. LightnCandy option: FLAG_ERROR_SKIPPARTIAL</a></li>
<li><a href="LC-FLAG_EXTHELPER.html">49. LightnCandy option: FLAG_EXTHELPER</a></li>
<li><a href="LC-FLAG_HBESCAPE.html">50. LightnCandy option: FLAG_HBESCAPE</a></li>
<li><a href="LC-FLAG_INSTANCE.html">51. LightnCandy option: FLAG_INSTANCE</a></li>
<li><a href="LC-FLAG_JS.html">52. LightnCandy option: FLAG_JS</a></li>
<li><a href="LC-FLAG_JSLENGTH.html">53. LightnCandy option: FLAG_JSLENGTH</a></li>
<li><a href="LC-FLAG_JSOBJECT.html">54. LightnCandy option: FLAG_JSOBJECT</a></li>
<li><a href="LC-FLAG_JSTRUE.html">55. LightnCandy option: FLAG_JSTRUE</a></li>
<li><a href="LC-FLAG_METHOD.html">56. LightnCandy option: FLAG_METHOD</a></li>
<li><a href="LC-FLAG_NAMEDARG.html">57. LightnCandy option: FLAG_NAMEDARG</a></li>
<li><a href="LC-FLAG_NOESCAPE.html">58. LightnCandy option: FLAG_NOESCAPE</a></li>
<li><a href="LC-FLAG_PARENT.html">59. LightnCandy option: FLAG_PARENT</a></li>
<li><a href="LC-FLAG_PARTIALNEWCONTEXT.html">60. LightnCandy option: FLAG_PARTIALNEWCONTEXT</a></li>
<li><a href="LC-FLAG_PROPERTY.html">61. LightnCandy option: FLAG_PROPERTY</a></li>
<li><a href="LC-FLAG_RENDER_DEBUG.html">62. LightnCandy option: FLAG_RENDER_DEBUG</a></li>
<li><a href="LC-FLAG_RUNTIMEPARTIAL.html">63. LightnCandy option: FLAG_RUNTIMEPARTIAL</a></li>
<li><a href="LC-FLAG_SLASH.html">64. LightnCandy option: FLAG_SLASH</a></li>
<li><a href="LC-FLAG_STANDALONEPHP.html">65. LightnCandy option: FLAG_STANDALONEPHP</a></li>
<li><a href="LC-FLAG_THIS.html">66. LightnCandy option: FLAG_THIS</a></li>
</ol>
   </li>
   <li><a href="#search"><label for="gsc-i-id1"><span class="glyphicon glyphicon-search"></span> Search</label></a></li>
  </ul>
  <ul class="nav navbar-nav navbar-right">
   <li><a href="https://github.com/zordius/HandlebarsCookbook"><span class="glyphicon glyphicon-circle-arrow-right" aria-hidden="true"></span> Go to Github</a></li>
  </ul>
 </div>
</nav>
<div class="container-fluid">
 <h1>LightnCandy: Use SafeString</h1>
 <p>When your custom helper be executed from {{ }} , the return value will be HTML escaped. You may execute your helper by {{{ }}} , then the original helper return value will be outputted directly. You can also return a LightnCandy\SafeString object, it will not be HTML escaped.</p>
     <a name="SafeStringwillnotworkwithoutpropercompileflag"></a><a class="glyphicon glyphicon-pushpin" href="#SafeStringwillnotworkwithoutpropercompileflag"></a>
<h2>SafeString will not work without proper compile flag</h2>
<p class="note">SafeString will not work when none of <code>FLAG_THIS</code>, <code>FLAG_HBESCAPE</code>, <code>FLAG_JSOBJECT</code>, <code>FLAG_JSTRUE</code>, <code>FLAG_RENDER_DEBUG</code> is enabled!</p>
<div class="text-center">Source Code <textarea class="copy" id="code_hIJO_2qbu8">require_once('./vendor/autoload.php');
use LightnCandy\LightnCandy;

// Please use full namespace as \LightnCandy\SafeString()
// Do not just use SafeString() , it will cause error when FLAG_STANDALONEPHP enabled
function my_helper1 () {
    return new \LightnCandy\SafeString('You&Me!');
}

$template = '{{my_helper1}}';

$phpStr = LightnCandy::compile($template, array(
    'helpers' => array(
        'my_helper1'
    )
));
$renderer = LightnCandy::prepare($phpStr);
echo $renderer();</textarea><button class="btn btn-primary" data-clipboard-target="#code_hIJO_2qbu8">Copy to clipboard</button></div><pre id="precode_hIJO_2qbu8"><code class="language-php"><span class="token keyword">require_once</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'./vendor/autoload.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">LightnCandy<span class="token punctuation">\</span>LightnCandy</span><span class="token punctuation">;</span>

<span class="token comment">// Please use full namespace as \LightnCandy\SafeString()</span>
<span class="token comment">// Do not just use SafeString() , it will cause error when FLAG_STANDALONEPHP enabled</span>
<span class="token keyword">function</span> <span class="token function-definition function">my_helper1</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\</span>LightnCandy<span class="token punctuation">\</span>SafeString</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'You&amp;Me!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token variable">$template</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'{{my_helper1}}'</span><span class="token punctuation">;</span>

<span class="token variable">$phpStr</span> <span class="token operator">=</span> <span class="token class-name static-context">LightnCandy</span><span class="token operator">::</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token variable">$template</span><span class="token punctuation">,</span> <span class="token keyword">array</span><span class="token punctuation">(</span>
    <span class="token string single-quoted-string">'helpers'</span> <span class="token operator">=></span> <span class="token keyword">array</span><span class="token punctuation">(</span>
        <span class="token string single-quoted-string">'my_helper1'</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$renderer</span> <span class="token operator">=</span> <span class="token class-name static-context">LightnCandy</span><span class="token operator">::</span><span class="token function">prepare</span><span class="token punctuation">(</span><span class="token variable">$phpStr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$renderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3>Output</h3>
<pre><code>You&amp;amp;Me!</code></pre>
<a name="PreventHTMLEscapeinyourcustomhelper"></a><a class="glyphicon glyphicon-pushpin" href="#PreventHTMLEscapeinyourcustomhelper"></a>
<h2>Prevent HTML Escape in your custom helper</h2>
<div class="text-center">Source Code <textarea class="copy" id="code_fcTvmCbymf">require_once('./vendor/autoload.php');
use LightnCandy\LightnCandy;

// Please use full namespace as \LightnCandy\SafeString()
// Do not just use SafeString() , it will cause error when FLAG_STANDALONEPHP enabled
function my_helper1 () {
    return new \LightnCandy\SafeString('You&Me!');
}

function my_helper2 () {
    return 'Now&Then!';
}

$template = '{{my_helper1}} , {{my_helper2}}';

$phpStr = LightnCandy::compile($template, array(
    'flags' => LightnCandy::FLAG_HANDLEBARS,
    'helpers' => array(
        'my_helper1',
        'my_helper2',
    )
));
$renderer = LightnCandy::prepare($phpStr);
echo $renderer();</textarea><button class="btn btn-primary" data-clipboard-target="#code_fcTvmCbymf">Copy to clipboard</button></div><pre id="precode_fcTvmCbymf"><code class="language-php"><span class="token keyword">require_once</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'./vendor/autoload.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">LightnCandy<span class="token punctuation">\</span>LightnCandy</span><span class="token punctuation">;</span>

<span class="token comment">// Please use full namespace as \LightnCandy\SafeString()</span>
<span class="token comment">// Do not just use SafeString() , it will cause error when FLAG_STANDALONEPHP enabled</span>
<span class="token keyword">function</span> <span class="token function-definition function">my_helper1</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\</span>LightnCandy<span class="token punctuation">\</span>SafeString</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'You&amp;Me!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function-definition function">my_helper2</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string single-quoted-string">'Now&amp;Then!'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token variable">$template</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'{{my_helper1}} , {{my_helper2}}'</span><span class="token punctuation">;</span>

<span class="token variable">$phpStr</span> <span class="token operator">=</span> <span class="token class-name static-context">LightnCandy</span><span class="token operator">::</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token variable">$template</span><span class="token punctuation">,</span> <span class="token keyword">array</span><span class="token punctuation">(</span>
    <span class="token string single-quoted-string">'flags'</span> <span class="token operator">=></span> <span class="token class-name static-context">LightnCandy</span><span class="token operator">::</span><span class="token constant">FLAG_HANDLEBARS</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'helpers'</span> <span class="token operator">=></span> <span class="token keyword">array</span><span class="token punctuation">(</span>
        <span class="token string single-quoted-string">'my_helper1'</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'my_helper2'</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$renderer</span> <span class="token operator">=</span> <span class="token class-name static-context">LightnCandy</span><span class="token operator">::</span><span class="token function">prepare</span><span class="token punctuation">(</span><span class="token variable">$phpStr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$renderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3>Output</h3>
<pre><code>You&amp;Me! , Now&amp;amp;Then!</code></pre>
<a name="ForceHTMLEscapeinyourcustomhelper"></a><a class="glyphicon glyphicon-pushpin" href="#ForceHTMLEscapeinyourcustomhelper"></a>
<h2>Force HTML Escape in your custom helper</h2>
<p class="note">You can force HTML escaping the input string by adding second parameter as <code>true</code> when construct the SafeString object.</p>
<div class="text-center">Source Code <textarea class="copy" id="code_QMAw6Qx038">require_once('./vendor/autoload.php');
use LightnCandy\LightnCandy;

// Please use full namespace as \LightnCandy\SafeString()
// Do not just use SafeString() , it will cause error when FLAG_STANDALONEPHP enabled
function my_helper1 () {
    return new \LightnCandy\SafeString('You&Me, it\'s good!', true);
}

function my_helper2 () {
    return 'Now&Then!';
}

$template = '{{{my_helper1}}} , {{{my_helper2}}}, {{my_helper2}}';

$phpStr = LightnCandy::compile($template, array(
    'flags' => LightnCandy::FLAG_HANDLEBARS,
    'helpers' => array(
        'my_helper1',
        'my_helper2',
    )
));
$renderer = LightnCandy::prepare($phpStr);
echo $renderer();</textarea><button class="btn btn-primary" data-clipboard-target="#code_QMAw6Qx038">Copy to clipboard</button></div><pre id="precode_QMAw6Qx038"><code class="language-php"><span class="token keyword">require_once</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'./vendor/autoload.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">LightnCandy<span class="token punctuation">\</span>LightnCandy</span><span class="token punctuation">;</span>

<span class="token comment">// Please use full namespace as \LightnCandy\SafeString()</span>
<span class="token comment">// Do not just use SafeString() , it will cause error when FLAG_STANDALONEPHP enabled</span>
<span class="token keyword">function</span> <span class="token function-definition function">my_helper1</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\</span>LightnCandy<span class="token punctuation">\</span>SafeString</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'You&amp;Me, it\'s good!'</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function-definition function">my_helper2</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string single-quoted-string">'Now&amp;Then!'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token variable">$template</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'{{{my_helper1}}} , {{{my_helper2}}}, {{my_helper2}}'</span><span class="token punctuation">;</span>

<span class="token variable">$phpStr</span> <span class="token operator">=</span> <span class="token class-name static-context">LightnCandy</span><span class="token operator">::</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token variable">$template</span><span class="token punctuation">,</span> <span class="token keyword">array</span><span class="token punctuation">(</span>
    <span class="token string single-quoted-string">'flags'</span> <span class="token operator">=></span> <span class="token class-name static-context">LightnCandy</span><span class="token operator">::</span><span class="token constant">FLAG_HANDLEBARS</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'helpers'</span> <span class="token operator">=></span> <span class="token keyword">array</span><span class="token punctuation">(</span>
        <span class="token string single-quoted-string">'my_helper1'</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'my_helper2'</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$renderer</span> <span class="token operator">=</span> <span class="token class-name static-context">LightnCandy</span><span class="token operator">::</span><span class="token function">prepare</span><span class="token punctuation">(</span><span class="token variable">$phpStr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$renderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3>Output</h3>
<pre><code>You&amp;amp;Me, it&amp;#039;s good! , Now&amp;Then!, Now&amp;amp;Then!</code></pre>
<a name="HTMLEscapejustlikehandlebars.js"></a><a class="glyphicon glyphicon-pushpin" href="#HTMLEscapejustlikehandlebars.js"></a>
<h2>HTML Escape just like handlebars.js</h2>
<p class="note">Use <code>'encq'</code> as second parameter when construct the SafeString object, then the HTML escape behavior will 100% align with handlebars.js. (EX: <code>'</code> -> <code>&amp;#039;</code>)</p>
<div class="text-center">Source Code <textarea class="copy" id="code_RzztQdOGIo">require_once('./vendor/autoload.php');
use LightnCandy\LightnCandy;

// Please use full namespace as \LightnCandy\SafeString()
// Do not just use SafeString() , it will cause error when FLAG_STANDALONEPHP enabled
function my_helper1 () {
    return new \LightnCandy\SafeString('You&Me, it\'s good!', 'encq');
}

function my_helper2 () {
    return 'Now&Then, it\'s time!';
}

$template = '{{{my_helper1}}} , {{{my_helper2}}}, {{my_helper2}}';

$phpStr = LightnCandy::compile($template, array(
    'flags' => LightnCandy::FLAG_JS,
    'helpers' => array(
        'my_helper1',
        'my_helper2',
    )
));
$renderer = LightnCandy::prepare($phpStr);
echo $renderer();</textarea><button class="btn btn-primary" data-clipboard-target="#code_RzztQdOGIo">Copy to clipboard</button></div><pre id="precode_RzztQdOGIo"><code class="language-php"><span class="token keyword">require_once</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'./vendor/autoload.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">LightnCandy<span class="token punctuation">\</span>LightnCandy</span><span class="token punctuation">;</span>

<span class="token comment">// Please use full namespace as \LightnCandy\SafeString()</span>
<span class="token comment">// Do not just use SafeString() , it will cause error when FLAG_STANDALONEPHP enabled</span>
<span class="token keyword">function</span> <span class="token function-definition function">my_helper1</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\</span>LightnCandy<span class="token punctuation">\</span>SafeString</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'You&amp;Me, it\'s good!'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'encq'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function-definition function">my_helper2</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string single-quoted-string">'Now&amp;Then, it\'s time!'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token variable">$template</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'{{{my_helper1}}} , {{{my_helper2}}}, {{my_helper2}}'</span><span class="token punctuation">;</span>

<span class="token variable">$phpStr</span> <span class="token operator">=</span> <span class="token class-name static-context">LightnCandy</span><span class="token operator">::</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token variable">$template</span><span class="token punctuation">,</span> <span class="token keyword">array</span><span class="token punctuation">(</span>
    <span class="token string single-quoted-string">'flags'</span> <span class="token operator">=></span> <span class="token class-name static-context">LightnCandy</span><span class="token operator">::</span><span class="token constant">FLAG_JS</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'helpers'</span> <span class="token operator">=></span> <span class="token keyword">array</span><span class="token punctuation">(</span>
        <span class="token string single-quoted-string">'my_helper1'</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'my_helper2'</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$renderer</span> <span class="token operator">=</span> <span class="token class-name static-context">LightnCandy</span><span class="token operator">::</span><span class="token function">prepare</span><span class="token punctuation">(</span><span class="token variable">$phpStr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$renderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3>Output</h3>
<pre><code>You&amp;amp;Me, it&amp;#x27;s good! , Now&amp;Then, it&#x27;s time!, Now&amp;amp;Then, it&amp;#039;s time!</code></pre>
<a name="UseSafeStringinsideyourinputdata"></a><a class="glyphicon glyphicon-pushpin" href="#UseSafeStringinsideyourinputdata"></a>
<h2>Use SafeString inside your input data</h2>
<p class="note">You can use <code>\LightnCandy\SafeString</code> inside your input data to specify different escaping hehavior.</p>
<div class="text-center">Source Code <textarea class="copy" id="code_T72ABnyKdT">require_once('./vendor/autoload.php');
use LightnCandy\LightnCandy;

$template = '{{foo}} , {{bar}}, {{moo}}';

$phpStr = LightnCandy::compile($template, array(
    'flags' => LightnCandy::FLAG_JS
));
$renderer = LightnCandy::prepare($phpStr);
echo $renderer(array(
    'foo' => "'A&B'",
    'bar' => new \LightnCandy\SafeString("'C&D'"),
    'moo' => new \LightnCandy\SafeString("'E&F'", 'encq')
));</textarea><button class="btn btn-primary" data-clipboard-target="#code_T72ABnyKdT">Copy to clipboard</button></div><pre id="precode_T72ABnyKdT"><code class="language-php"><span class="token keyword">require_once</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'./vendor/autoload.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">LightnCandy<span class="token punctuation">\</span>LightnCandy</span><span class="token punctuation">;</span>

<span class="token variable">$template</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'{{foo}} , {{bar}}, {{moo}}'</span><span class="token punctuation">;</span>

<span class="token variable">$phpStr</span> <span class="token operator">=</span> <span class="token class-name static-context">LightnCandy</span><span class="token operator">::</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token variable">$template</span><span class="token punctuation">,</span> <span class="token keyword">array</span><span class="token punctuation">(</span>
    <span class="token string single-quoted-string">'flags'</span> <span class="token operator">=></span> <span class="token class-name static-context">LightnCandy</span><span class="token operator">::</span><span class="token constant">FLAG_JS</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$renderer</span> <span class="token operator">=</span> <span class="token class-name static-context">LightnCandy</span><span class="token operator">::</span><span class="token function">prepare</span><span class="token punctuation">(</span><span class="token variable">$phpStr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$renderer</span><span class="token punctuation">(</span><span class="token keyword">array</span><span class="token punctuation">(</span>
    <span class="token string single-quoted-string">'foo'</span> <span class="token operator">=></span> <span class="token string double-quoted-string">"'A&amp;B'"</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'bar'</span> <span class="token operator">=></span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\</span>LightnCandy<span class="token punctuation">\</span>SafeString</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"'C&amp;D'"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'moo'</span> <span class="token operator">=></span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\</span>LightnCandy<span class="token punctuation">\</span>SafeString</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"'E&amp;F'"</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'encq'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3>Output</h3>
<pre><code>&amp;#039;A&amp;amp;B&amp;#039; , &#x27;C&amp;D&#x27;, &amp;#x27;E&amp;amp;F&amp;#x27;</code></pre>
<a name="SafeStringandFLAG_STANDALONEPHP"></a><a class="glyphicon glyphicon-pushpin" href="#SafeStringandFLAG_STANDALONEPHP"></a>
<h2>SafeString and FLAG_STANDALONEPHP</h2>
<p class="note">When the <code>FLAG_STANDALONEPHP</code> flag enabled, LightnCandy will embed the <code>\LightnCandy\SafeString</code> class into generated code and rename it into shorter version: <code>LS</code>. If you like to use <code>\LightnCandy\SafeString</code> instance in your input data with the standalone PHP, you should reuse the <code>LS</code> class inside the compiled templates.</p>
<div class="text-center">Source Code <textarea class="copy" id="code_n2w6f875VH">require_once('./vendor/autoload.php');
use LightnCandy\LightnCandy;

$template = '{{foo}} , {{bar}}, {{moo}}';

$phpStr = LightnCandy::compile($template, array(
    'flags' => LightnCandy::FLAG_JS | LightnCandy::FLAG_STANDALONEPHP
));
$renderer = LightnCandy::prepare($phpStr);
echo $renderer(array(
    'foo' => "'A&B'",
    // LS only exists after any standalone template included
    'bar' => new LS("'C&D'"),
    'moo' => new LS("'E&F'", 'encq')
));</textarea><button class="btn btn-primary" data-clipboard-target="#code_n2w6f875VH">Copy to clipboard</button></div><pre id="precode_n2w6f875VH"><code class="language-php"><span class="token keyword">require_once</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'./vendor/autoload.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">LightnCandy<span class="token punctuation">\</span>LightnCandy</span><span class="token punctuation">;</span>

<span class="token variable">$template</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'{{foo}} , {{bar}}, {{moo}}'</span><span class="token punctuation">;</span>

<span class="token variable">$phpStr</span> <span class="token operator">=</span> <span class="token class-name static-context">LightnCandy</span><span class="token operator">::</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token variable">$template</span><span class="token punctuation">,</span> <span class="token keyword">array</span><span class="token punctuation">(</span>
    <span class="token string single-quoted-string">'flags'</span> <span class="token operator">=></span> <span class="token class-name static-context">LightnCandy</span><span class="token operator">::</span><span class="token class-name">FLAG_JS</span> <span class="token operator">|</span> <span class="token class-name">LightnCandy</span><span class="token operator">::</span><span class="token constant">FLAG_STANDALONEPHP</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$renderer</span> <span class="token operator">=</span> <span class="token class-name static-context">LightnCandy</span><span class="token operator">::</span><span class="token function">prepare</span><span class="token punctuation">(</span><span class="token variable">$phpStr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$renderer</span><span class="token punctuation">(</span><span class="token keyword">array</span><span class="token punctuation">(</span>
    <span class="token string single-quoted-string">'foo'</span> <span class="token operator">=></span> <span class="token string double-quoted-string">"'A&amp;B'"</span><span class="token punctuation">,</span>
    <span class="token comment">// LS only exists after any standalone template included</span>
    <span class="token string single-quoted-string">'bar'</span> <span class="token operator">=></span> <span class="token keyword">new</span> <span class="token class-name">LS</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"'C&amp;D'"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'moo'</span> <span class="token operator">=></span> <span class="token keyword">new</span> <span class="token class-name">LS</span><span class="token punctuation">(</span><span class="token string double-quoted-string">"'E&amp;F'"</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'encq'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><h3>Output</h3>
<pre><code>&amp;#039;A&amp;amp;B&amp;#039; , &#x27;C&amp;D&#x27;, &amp;#x27;E&amp;amp;F&amp;#x27;</code></pre>
  <a name="SeeAlso..."></a><a class="glyphicon glyphicon-pushpin" href="#SeeAlso..."></a>
<h2>See Also...</h2>
<ul class="ref">
 <li><a href="0021-customhelper.html">Handlebars: Custom Helper</a></li>
 <li><a href="0029-safestring.html">Handlebars: Use SafeString</a></li>
 <li><a href="9903-lcop-safestring.html">LightnCandy option: safestring</a></li>
 <li><a href="LC-FLAG_HBESCAPE.html">LightnCandy option: FLAG_HBESCAPE</a></li>
 <li><a href="LC-FLAG_JSOBJECT.html">LightnCandy option: FLAG_JSOBJECT</a></li>
 <li><a href="LC-FLAG_JSTRUE.html">LightnCandy option: FLAG_JSTRUE</a></li>
 <li><a href="LC-FLAG_RENDER_DEBUG.html">LightnCandy option: FLAG_RENDER_DEBUG</a></li>
 <li><a href="LC-FLAG_THIS.html">LightnCandy option: FLAG_THIS</a></li>
</ul>
<ul class="pager">
 <li class="previous"><a href="9002-helperoptions.html"><span class="glyphicon glyphicon-arrow-left"></span> LightnCandy: The $options Object</a></li>
 <li class="next"><a href="9004-partials.html">LightnCandy: Deep Dive Partials <span class="glyphicon glyphicon-arrow-right"></span></a></li>
</ul>
<script>
(function() {
 var cx = '015786516026450061497:ydk5o8cxglu';
 var gcse = document.createElement('script');
 gcse.type = 'text/javascript';
 gcse.async = true;
 gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
 var s = document.getElementsByTagName('script')[0];
 s.parentNode.insertBefore(gcse, s);
})();
</script>
<div class="search">
<h3>Search the cookbook</h3>
<gcse:search></gcse:search>
</div>
<div class="footer">
Generated at 2022-03-21T13:13:56.019Z
</div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/clipboard.js/1.5.3/clipboard.min.js"></script>
<script>
if (document.execCommand) {
    new Clipboard('.btn[data-clipboard-target]');
} else {
    $('.btn[data-clipboard-target]').hide();
}

$(document).keydown(function (e) {
  var A;

  if ($('#gsc-i-id1').is(':focus')) {
      return;
  }

  switch (e.keyCode) {
  case 37:
    A = $('.pager .previous a').attr('href');
    break;
  case 39:
    A = $('.pager .next a').attr('href');
    break;
  case 191:
    return setTimeout(function () {
        $('#gsc-i-id1').focus();
    }, 1);
  case 190:
    return $('ul.ref li:first-child a').focus();
  case 188:
    return $('.navbar .nav .dropdown .dropdown-toggle').trigger('click');
  }
  if (A) {
    location.href = A;
  }
});
</script>
</body>
</html>
